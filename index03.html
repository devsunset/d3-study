<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>D3.js & SVG</title>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<style>
			svg { width: 320px; height: 240px; border: 1px solid black; }
			rect { fill : orange; }
            .bar_note { fill : red; }
		</style>
	</head>
	<body>
		<h1>D3.js를 이용한 SVG 요소 생성</h1>
		<div id="myGraph1"></div>
        <div id="myGraph2"></div>
        <svg>
			<rect id="myBar1" x="0" y="50" width="100" height="25" />
		</svg>
        <svg>
			<rect id="myBar2" x="0" y="50" width="100" height="25" />
		</svg>
        <svg>
			<rect id="myBar3" x="0" y="50" width="100" height="25" />
		</svg>
        <svg>
			<rect id="myBar4" x="0" y="50" width="100" height="25" />
		</svg>
        <br/>
        <svg>
			<rect id="myBar5" x="0" y="50" width="100" height="25" />
		</svg>
        <br/>
        <svg>
			<rect class="bar" x="0" y="10" width="60" height="25" />
			<rect class="bar" x="0" y="50" width="100" height="25" />
			<rect class="bar" x="0" y="90" width="160" height="25" />
			<rect class="bar" x="0" y="130" width="220" height="25" />
		</svg>
		<script>
           var svg1 = d3.select("#myGraph1")	// ID 이름 myGraph를 지정
                            .append("svg")	// svg 요소 추가
                svg1.append("rect")	// rect 요소를 svg 요소에 추가
                svg1.append("rect").append("rect")	// rect 요소를 svg 요소에 추가

                d3.select("#myGraph2")	// ID 이름 myGraph를 지정
                    .append("svg")	// svg 요소 추가
                    .append("rect")	// rect 요소를 svg 요소에 추가
                    .attr("x", "10px")	// X 좌표를 10px로 설정
                    .attr("y", "50px")	// Y 좌표를 50px로 설정
                    .attr("width", "200px")	// 넓이를 200px로 설정
                    .attr("height", "30px")	// 높이를 30px로 설정



                d3.select("#myBar1")	// ID 이름을 myBar로 지정
                    .attr("x", "10px")	// X 좌표를 10px로 설정
                    .attr("y", "50px")	// Y 좌표를 50px로 설정
                    .attr("width", "200px")	// 넓이를 200px로 설정
                    .attr("height", "30px")	// 높이를 30px로 설정

                d3.select("#myBar2")	// ID 이름에 myBar를 지정
                    .attr({
                        x : "10px",	// X 좌표를 10px로 설정
                        y : "50px",	// Y 좌표를 50px로 설정
                        width : "200px",	// 넓이를 200px로 설정
                        height : "30px",	// 높이를 30px로 설정
                    })

                d3.select("#myBar3")	// ID 이름을 myBar로 지정
                    .attr({
                        "x" : "10px",	// X 좌표を10px로 설정
                        "y" : "50px",	// Y 좌표を50px로 설정
                        "width" : "200px",	// 넓이を200px로 설정
                        "height" : "30px",	// 높이を30px로 설정
                    })

                d3.select("#myBar4")	// ID 이름을 myBar로 지정
                    .attr("x", "10px")	// X 좌표를 10px로 설정
                    .attr("y", "50px")	// Y 좌표를 50px로 설정
                    .attr("width", "200px")	// 넓이를 200px로 설정
                    .attr("height", "30px")	// 높이를 30px로 설정
                    .transition()	// 애니메이션 설정
                    .duration(3000)	// 3초간 변화
                    .attr("width", "50px")	// 넓이를 50px로 설정

                d3.select("#myBar5")	// ID 이름을 myBar로 지정
                    .attr("x", "10px")	// X 좌표를 10px로 설정
                    .attr("y", "50px")	// Y 좌표를 50px로 설정
                    .attr("width", "200px")	// 넓이를 200px로 설정
                    .attr("height", "30px")	// 높이를 30px로 설정
                    .style("fill", "red")	// 스타일의 fill 속성을 red로 설정
                    .style("stroke", "black")	// 선의 색을 검정으로 설정



                d3.select(".bar")	// CSS 클래스 이름을  bar로 지정 (첫번째 요소만 적용)
                //d3.selectAll(".bar")	// CSS 클래스 이름에 bar를 지정 (전체 적용)
                    .style("fill", "red")	// 스타일 fill 속성에 red를 지정
                    .style("stroke", "black")	// 선의 색을 검정으로 설정

               //d3.select(".bar")	// CSS 클래스 이름에 bar를 지정
	           //    .attr("class", "bar_note")	//  요소의 class 속성에 bar_note를 지정

               //d3.select(".bar")	// CSS 클래스 이름에 bar를 지정
	           // .attr("style", "fill:red;stroke:black")	// 스타일 일괄 지정

               d3.selectAll(".bar")	// CSS 클래스 이름에 bar를 지정
                    .style("fill", function(d,i){	// 2번째의 파라미터에 함수를 지정
                        if(i == 2){	// 순서를 조사
                            return "red";	// 3번째라면 빨간색을 나타내는 문자를 반환
                        }	
                    })

        </script>
	</body>
</html>
